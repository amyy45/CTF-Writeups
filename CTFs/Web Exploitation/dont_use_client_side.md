# üß© CTF Challenge Writeup  
**Challenge Name:** dont-use-client-side  
**Category:** Web Exploitation  
**Difficulty:** Easy  
**Platform:** picoCTF 2019  
**Author:** ALEX FULTON/DANNY  
**Date:** 20-02-26  

---

## üîç 1. Challenge Description

The challenge presents a website with the following description:

> *"Can you break into this super secure portal?"*

A single login page is provided with just a **password input field** and a **verify button**.  
The challenge name **dont-use-client-side** strongly suggests that sensitive logic (like password verification) has been incorrectly implemented on the client side.

---

## üß† 2. Initial Thoughts / Approach

Given:
- **Web Exploitation** category  
- **Easy** difficulty  
- Challenge name explicitly says **"dont-use-client-side"**
- Hint: **"Never trust the client"**

Key observations:
- The login form only has a password field ‚Äî no server-side verification is needed if the check is done in JavaScript
- JavaScript is always readable by the user in the browser
- The password validation logic is likely hardcoded in a `<script>` tag
- No brute force required ‚Äî just read and reconstruct the password from the source code

The intended approach is to **inspect the client-side JavaScript** and reconstruct the password from the verification logic.

---

## üõ†Ô∏è 3. Steps to Solve

### 3.1 Open the Website
Navigate to:
```
http://fickle-tempest.picoctf.net:63783
```
A blue page appears with a yellow login box ‚Äî only a password field and a "verify" button.

### 3.2 Open DevTools and Inspect the Source
Press `F12` ‚Üí go to the **Elements** tab.  
Inside the `<script>` tag, the `verify()` function is visible ‚Äî it checks the password using `substring()` comparisons.

### 3.3 Extract the Full JavaScript
To read the exact source clearly, run this in the **Console** tab:

```javascript
console.log(document.querySelector('script:nth-of-type(2)').innerHTML);
```

This prints the complete JavaScript:

```javascript
function verify() {
    checkpass = document.getElementById("pass").value;
    split = 4;
    if (checkpass.substring(0, split) == 'pico') {
        if (checkpass.substring(split*6, split*7) == 'eb02') {
            if (checkpass.substring(split, split*2) == 'CTF{') {
                if (checkpass.substring(split*4, split*5) == 'ts_p') {
                    if (checkpass.substring(split*3, split*4) == 'lien') {
                        if (checkpass.substring(split*5, split*6) == 'lz_2') {
                            if (checkpass.substring(split*2, split*3) == 'no_c') {
                                if (checkpass.substring(split*7, split*8) == 'b45}') {
                                    alert("Password Verified")
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    else {
        alert("Incorrect password");
    }
}
```

### 3.4 Reconstruct the Flag
With `split = 4`, each `substring(start, end)` maps to a 4-character chunk. Sorting by position:

| Condition | Start | End | Value |
|---|---|---|---|
| `substring(0, split)` | 0 | 4 | `pico` |
| `substring(split, split*2)` | 4 | 8 | `CTF{` |
| `substring(split*2, split*3)` | 8 | 12 | `no_c` |
| `substring(split*3, split*4)` | 12 | 16 | `lien` |
| `substring(split*4, split*5)` | 16 | 20 | `ts_p` |
| `substring(split*5, split*6)` | 20 | 24 | `lz_2` |
| `substring(split*6, split*7)` | 24 | 28 | `eb02` |
| `substring(split*7, split*8)` | 28 | 32 | `b45}` |

Assembling all chunks in order (position 0 ‚Üí 32):

```
pico + CTF{ + no_c + lien + ts_p + lz_2 + eb02 + b45}
```

### 3.5 Verify the Password
Enter the reconstructed flag into the password field and click **verify**.  
The browser shows: **"Password Verified"** ‚úÖ

---

## üß© 4. Final Flag

```
picoCTF{no_clients_plz_2eb02b45}
```

---

## üìö 5. Key Learnings

- **Never implement authentication logic in client-side JavaScript** ‚Äî it is always visible to the user
- JavaScript source code is fully readable via browser DevTools or `View Page Source`
- Password checks using `substring()` comparisons are easily reversible by reading the source
- The browser Console can be used to extract and analyze JavaScript dynamically
- Obfuscating the check order (nested ifs out of sequence) does not provide real security ‚Äî sorting by index reveals the full password
- Security must always be enforced **server-side**, never client-side

---

## üöÄ 6. Improvements for Next Time

- Always check `<script>` tags immediately when faced with a login form in a web challenge
- Use the browser Console to print full script contents cleanly
- When you see `substring()` checks, map each one to its character position and sort them
- Look for the `split` or `offset` variable ‚Äî it defines the chunk size for reconstruction
- Never assume obfuscated or reordered checks add real security

---

## üîó 7. References

- [MDN Web Docs ‚Äì String.prototype.substring()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/substring)
- [MDN Web Docs ‚Äì Client-side vs Server-side](https://developer.mozilla.org/en-US/docs/Learn/Server-side/First_steps/Client-Server_overview)
- [OWASP ‚Äì Client-Side Security](https://owasp.org/www-project-web-security-testing-guide/)
- [picoCTF Web Exploitation Challenges](https://picoctf.org)